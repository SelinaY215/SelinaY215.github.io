<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Video Studio | Selina's Hub</title>
  <link rel="stylesheet" href="style.css">
  <!-- 预加载首个视频（其他视频按需加载） -->
  <link rel="preload" href="videos/child_development.mp4" as="video" type="video/mp4">
  <style>
    :root {
      --dark-bg: #1E2A3A;
      --darker-bg: #16202D;
      --light-bg: #F5F7FA;
      --text-on-dark: #E0E6ED;
    }
    
    /* 优化后的视频容器样式 */
    .optimized-video-container {
      position: relative;
      width: 80%;
      max-width: 550px;
      margin: 0 auto;
      height: 0;
      padding-bottom: 60%; /* 更合适的比例 */
      overflow: hidden;
      border-radius: 12px;
      background: #000; /* 黑色背景减少突兀感 */
      box-shadow: 0 8px 25px rgba(0,0,0,0.3);
    }
    
    .optimized-video-container video {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100%;
      height: 100%;
      object-fit: contain; /* 保持原始比例，但尽量填充 */
    }
    
    /* 针对横屏视频的特殊处理 */
    .optimized-video-container.horizontal video {
      object-fit: cover; /* 横屏视频使用覆盖模式 */
      width: 100%;
      height: 100%;
    }
    
    /* 新增缓冲指示器 */
    .buffering-indicator {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0,0,0,0.7);
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      display: none;
      z-index: 10;
    }
    
    .video-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin: 1rem 0;
    }
    
    .action-btn {
      padding: 0.6rem 1.2rem;
      background: var(--accent);
      color: var(--dark);
      border: none;
      border-radius: 50px;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 5px;
    }
    
    .action-btn:hover {
      background: var(--secondary);
      color: white;
    }
    
    .current-video-title {
      font-size: 1.2rem;
      margin: 0.5rem 0;
      color: var(--text-on-dark);
      font-weight: 600;
    }

    .video-tabs {
      display: flex;
      gap: 1rem;
      margin-bottom: 2rem;
      flex-wrap: wrap;
    }
    
    .video-tab {
      padding: 0.8rem 1.5rem;
      background: var(--accent);
      border: none;
      border-radius: 50px;
      cursor: pointer;
      font-weight: 600;
      transition: var(--transition);
    }
    
    .video-tab.active {
      background: var(--primary);
      color: white;
    }
    
    .video-meta {
      color: var(--text-on-dark);
      opacity: 0.8;
      font-size: 0.9rem;
      margin: 0.5rem 0;
    }
    
    .video-description {
      background: var(--dark-bg);
      color: var(--text-on-dark);
      padding: 1rem;
      border-radius: var(--radius);
      margin-top: 0.5rem;
      font-size: 0.9rem;
      line-height: 1.5;
    }
    
    /* 跨文化视频选项卡布局 */
    .cultural-tabs {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      margin: 2rem 0;
    }
    
    .cultural-tab {
      padding: 0.8rem 1.5rem;
      background: var(--accent);
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: var(--transition);
    }
    
    .cultural-tab.active {
      background: var(--primary);
      color: white;
    }
    
    .cultural-content {
      display: none;
      animation: fadeIn 0.5s ease;
    }
    
    .cultural-content.active {
      display: block;
    }
    
    /* 心理学讨论部分样式 */
    .discussion-section {
      background: white;
      border-radius: var(--radius);
      padding: 2rem;
      margin-bottom: 3rem;
      box-shadow: var(--shadow);
    }
    
    .discussion-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 1.5rem;
      margin-top: 1.5rem;
    }
    
    .discussion-card {
      background: var(--light);
      border-radius: var(--radius);
      padding: 1.5rem;
      transition: var(--transition);
    }
    
    .discussion-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .discussion-card h3 {
      color: var(--primary);
      margin-bottom: 0.8rem;
    }
    
    .discussion-card p {
      color: var(--dark);
      margin-bottom: 1rem;
      font-size: 0.95rem;
    }
    
    .discussion-meta {
      display: flex;
      justify-content: space-between;
      color: var(--secondary);
      font-size: 0.85rem;
    }
    
    /* 隐藏类 */
    .hidden {
      display: none;
    }
    
    /* 主视频播放器样式 */
    .main-video-player {
      width: 100%;
      max-width: 800px;
      margin: 0 auto;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @media (max-width: 768px) {
      .optimized-video-container {
        width: 90%;
        padding-bottom: 70%;
      }
      
      .discussion-grid {
        grid-template-columns: 1fr;
      }
      
      .cultural-tabs {
        flex-direction: column;
        align-items: center;
      }
      
      .cultural-tab {
        width: 100%;
        text-align: center;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo-container">
      <img src="images/redheart.png" alt="Mental Health Heart Logo" class="heart-logo">
      <span class="site-title">Selina's Mental Health Hub</span>
    </div>
    
    <nav>
      <a href="index.html">Home</a>
      <a href="types.html">Digital Exhibition</a>
      <a href="discussions.html" class="active">Video Studio</a>
      <a href="science.html">Reading Corner</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>
  
  <main class="container">
    <h1>Psychology Video Studio</h1>
    <p class="subtitle">Student-created content exploring psychological concepts</p>
    
    <div class="video-tabs">
      <button class="video-tab active" onclick="loadVideo('child')">Child Development</button>
      <button class="video-tab" onclick="loadVideo('culture')">Cross-Cultural Child Socialization</button>
    </div>
    
    <!-- 心理学讨论部分 - 只在Child Development显示 -->
    <div id="discussionSection" class="discussion-section">
      <h2>Psychology Discussions</h2>
      <p>Explore various psychological topics through these student-led discussions.</p>
      
      <div class="discussion-grid">
        <div class="discussion-card">
          <h3>Understanding Cognitive Biases</h3>
          <p>How our thinking patterns can sometimes lead us astray and how to recognize these mental shortcuts.</p>
          <div class="discussion-meta">
            <span>Length: 8:30</span>
            <span>Views: 287</span>
          </div>
        </div>
        
        <div class="discussion-card">
          <h3>Emotional Intelligence in Daily Life</h3>
          <p>Practical ways to develop emotional awareness and apply it in relationships and decision-making.</p>
          <div class="discussion-meta">
            <span>Length: 10:15</span>
            <span>Views: 342</span>
          </div>
        </div>
        
        <div class="discussion-card">
          <h3>Mental Health Stigma</h3>
          <p>Examining societal attitudes toward mental health and how we can work to reduce prejudice.</p>
          <div class="discussion-meta">
            <span>Length: 12:40</span>
            <span>Views: 419</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- 主视频容器 - 只在Child Development显示 -->
    <div id="mainVideoContainer" class="video-container">
      <!-- 缓冲指示器 -->
      <div class="buffering-indicator" id="bufferingIndicator">加载中...</div>
      
      <video controls id="mainVideoPlayer" preload="auto" playsinline>
        <source src="videos/child_development.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>
      <p class="current-video-title">Child Cognitive Development</p>
      <p class="video-meta">Length: 12:45 | Views: 589</p>
      
      <div class="video-description" id="videoDescription">
        Exploring the stages of cognitive development in children and how they perceive the world around them.
      </div>
      
      <div class="video-actions">
        <button class="action-btn" onclick="shareVideo()">↗️ Share</button>
      </div>
    </div>
    
    <!-- 跨文化部分 - 只在Cross-Cultural Child Socialization显示 -->
    <div id="culturalContent" class="hidden">
      <h2>Cross-Cultural Child Socialization</h2>
      <p>Discover how different cultures approach child socialization and development.</p>
      
      <!-- 文化选择选项卡 -->
      <div class="cultural-tabs">
        <button class="cultural-tab active" onclick="openCulturalTab('overview')">Overview</button>
        <button class="cultural-tab" onclick="openCulturalTab('mongolian')">Mongolian</button>
        <button class="cultural-tab" onclick="openCulturalTab('indian')">Indian</button>
      </div>
      
      <!-- 总览内容 -->
      <div id="culturalOverview" class="cultural-content active">
        <!-- 主视频播放器 -->
        <div class="main-video-player">
          <div class="optimized-video-container horizontal">
            <video controls id="culturalMainVideo">
              <source src="videos/psych_discussions.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
          </div>
          <p class="current-video-title">Cross-Cultural Child Socialization Discussion</p>
          <p class="video-meta">Length: 14:30 | Views: 512</p>
          <div class="video-description">
            An in-depth discussion about how different cultures approach child socialization and development.
          </div>
        </div>
        
        <h3 style="margin-top: 2rem;">Explore Specific Cultural Examples</h3>
        <p>Select one of the culture tabs above to view detailed videos about child socialization practices in different cultures.</p>
      </div>
      
      <!-- 蒙古文化内容 -->
      <div id="culturalMongolian" class="cultural-content">
        <div class="main-video-player">
          <div class="optimized-video-container">
            <video controls id="mongolianVideo">
              <source src="videos/mongolian_filmmaking.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
          </div>
          <p class="current-video-title">Mongolian Child Socialization</p>
          <p class="video-meta">Length: 12:20 | Views: 356</p>
          <div class="video-description">
            Explore how Mongolian culture approaches child-rearing and socialization practices. This video examines the unique aspects of Mongolian family dynamics, the role of community in child development, and traditional values that shape childhood experiences in Mongolian society.
          </div>
        </div>
        
        <div class="video-actions">
          <button class="action-btn" onclick="shareCulturalVideo('Mongolian Child Socialization')">↗️ Share This Video</button>
        </div>
      </div>
      
      <!-- 印度文化内容 -->
      <div id="culturalIndian" class="cultural-content">
        <div class="main-video-player">
          <div class="optimized-video-container">
            <video controls id="indianVideo">
              <source src="videos/indian_culture_insights.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
          </div>
          <p class="current-video-title">Indian Child Socialization</p>
          <p class="video-meta">Length: 9:45 | Views: 421</p>
          <div class="video-description">
            Discover Indian cultural approaches to child development and family dynamics. This video explores the influence of extended family structures, educational expectations, and the balance between traditional values and modernization in shaping Indian childhood experiences.
          </div>
        </div>
        
        <div class="video-actions">
          <button class="action-btn" onclick="shareCulturalVideo('Indian Child Socialization')">↗️ Share This Video</button>
        </div>
      </div>
    </div>
  </main>
  
  <footer id="contact">
    <div class="container">
      <p>© 2025 Selina's Mental Health Hub. All rights reserved.</p>
    </div>
  </footer>
  
  <script>
    // 初始化视频监控
    document.addEventListener('DOMContentLoaded', function() {
      const video = document.getElementById('mainVideoPlayer');
      const bufferingIndicator = document.getElementById('bufferingIndicator');
      
      // 缓冲事件监听
      video.addEventListener('waiting', function() {
        bufferingIndicator.style.display = 'block';
      });
      
      video.addEventListener('playing', function() {
        bufferingIndicator.style.display = 'none';
      });
      
      video.addEventListener('canplay', function() {
        bufferingIndicator.style.display = 'none';
      });
      
      // 网络自适应
      function checkNetwork() {
        if (navigator.connection) {
          const connection = navigator.connection;
          if (connection.saveData || connection.effectiveType.includes('2g')) {
            video.preload = 'metadata';
          }
        }
      }
      checkNetwork();
    });

    // 加载视频函数
    function loadVideo(videoType) {
      const videoPlayer = document.getElementById('mainVideoPlayer');
      const bufferingIndicator = document.getElementById('bufferingIndicator');
      const culturalContent = document.getElementById('culturalContent');
      const discussionSection = document.getElementById('discussionSection');
      const mainVideoContainer = document.getElementById('mainVideoContainer');
      
      // 显示缓冲状态
      bufferingIndicator.style.display = 'block';
      
      let videoData = {
        'child': {
          src: 'videos/child_development.mp4',
          title: 'Child Cognitive Development',
          length: '12:45',
          views: '589',
          desc: 'Exploring the stages of cognitive development in children and how they perceive the world around them.',
          showCultural: false
        },
        'culture': {
          src: 'videos/psych_discussions.mp4',
          title: 'Cross-Cultural Child Socialization Discussion',
          length: '14:30',
          views: '512',
          desc: 'An in-depth discussion about how different cultures approach child socialization and development.',
          showCultural: true
        }
      };

      const data = videoData[videoType];
      
      // 更新视频源
      videoPlayer.src = data.src;
      
      // 强制预加载
      videoPlayer.preload = 'auto';
      videoPlayer.load();
      
      // 更新信息
      document.querySelector('.current-video-title').textContent = data.title;
      document.querySelector('.video-meta').textContent = `Length: ${data.length} | Views: ${data.views}`;
      document.getElementById('videoDescription').textContent = data.desc;
      
      // 显示或隐藏内容
      if (data.showCultural) {
        // 显示跨文化内容，隐藏其他
        culturalContent.classList.remove('hidden');
        discussionSection.classList.add('hidden');
        mainVideoContainer.classList.add('hidden');
        
        // 设置跨文化主视频
        document.getElementById('culturalMainVideo').src = data.src;
      } else {
        // 显示Child Development内容，隐藏跨文化
        culturalContent.classList.add('hidden');
        discussionSection.classList.remove('hidden');
        mainVideoContainer.classList.remove('hidden');
      }
      
      // 更新标签页状态
      document.querySelectorAll('.video-tab').forEach(tab => {
        tab.classList.remove('active');
      });
      event.currentTarget.classList.add('active');
    }
    
    // 打开文化选项卡
    function openCulturalTab(cultureType) {
      // 隐藏所有文化内容
      document.querySelectorAll('.cultural-content').forEach(content => {
        content.classList.remove('active');
      });
      
      // 取消所有标签激活状态
      document.querySelectorAll('.cultural-tab').forEach(tab => {
        tab.classList.remove('active');
      });
      
      // 显示选中的内容并激活标签
      document.getElementById('cultural' + cultureType.charAt(0).toUpperCase() + cultureType.slice(1)).classList.add('active');
      event.currentTarget.classList.add('active');
    }
    
    // 分享功能
    function shareVideo() {
      const currentVideo = document.querySelector('.current-video-title').textContent;
      if (navigator.share) {
        navigator.share({
          title: currentVideo,
          text: 'Check out this interesting psychology video',
          url: window.location.href
        }).catch(err => {
          console.log('Error sharing:', err);
        });
      } else {
        alert(`Share this video: ${currentVideo}\nURL: ${window.location.href}`);
      }
    }
    
    // 分享文化视频
    function shareCulturalVideo(videoTitle) {
      if (navigator.share) {
        navigator.share({
          title: videoTitle,
          text: 'Check out this interesting cultural psychology video',
          url: window.location.href
        }).catch(err => {
          console.log('Error sharing:', err);
        });
      } else {
        alert(`Share this video: ${videoTitle}\nURL: ${window.location.href}`);
      }
    }
  </script>
</body>
</html>